{"version":3,"sources":["components/sections/register/Content.js","components/pages/Register.js"],"names":["connect","state","isAuthenticated","auth","error","register_page","pages","signup","load_register_page","props","useEffect","useState","displayName","email","password","confirmPassword","is_superuser","is_active","setState","handleSubmit","event","a","preventDefault","alert","console","log","message","action","handleChange","target","name","value","className","onSubmit","type","placeholder","onChange","to","style","backgroundImage","wallpaper","backgroundSize","Register","redirect","content","Component"],"mappings":"kRAyJeA,eANS,SAAAC,GAAK,MAAK,CAChCC,gBAAiBD,EAAME,KAAKD,gBAC5BE,MAAOH,EAAME,KAAKC,MAClBC,cAAeJ,EAAMK,MAAMD,iBAGW,CAAEE,WAAQC,wBAAnCR,EAnJC,SAAC,GAA2D,IAA1DO,EAAyD,EAAzDA,OAAQC,EAAiD,EAAjDA,mBAAoBH,EAA6B,EAA7BA,cAAkBI,EAAW,+DAEzEC,qBAAU,WACRF,MACC,IAJsE,MAM/CG,mBAAS,CAC/BC,YAAa,GACbC,MAAO,GACPC,SAAU,GACVC,gBAAiB,GACjBC,cAAc,EACdC,WAAW,IAZ0D,mBAMlEhB,EANkE,KAM3DiB,EAN2D,KAgBnEC,EAAY,uCAAG,WAAMC,GAAN,yBAAAC,EAAA,yDACnBD,EAAME,iBAGJV,EAMEX,EANFW,YACAC,EAKEZ,EALFY,MACAC,EAIEb,EAJFa,SACAC,EAGEd,EAHFc,gBACAC,EAEEf,EAFFe,aACAC,EACEhB,EADFgB,UAGEH,IAAaC,EAZE,uBAajBQ,MAAM,6GAbW,0BAgBnBhB,EACEM,EACAC,EACAC,EACAH,EACAI,EACAC,GAIAC,EAAS,2BACJjB,GADG,IAENW,YAAa,GACbC,MAAO,GACPC,SAAU,GACVC,gBAAiB,MAGfN,EAAML,MAGRoB,QAAQC,IAAIhB,EAAML,MAAMsB,SAFxBjB,EAAMkB,SAnCS,2CAAH,sDAyCZC,EAAe,SAAAR,GAAU,IAAD,EACJA,EAAMS,OAAtBC,EADoB,EACpBA,KAAMC,EADc,EACdA,MAEdb,EAAS,2BAAKjB,GAAN,kBAAc6B,EAAOC,MAGvBnB,EAAkDX,EAAlDW,YAAaC,EAAqCZ,EAArCY,MAAOC,EAA8Bb,EAA9Ba,SAAUC,EAAoBd,EAApBc,gBAEpC,OACE,sBAAKiB,UAAU,qBAAf,UACE,qBAAKA,UAAU,mBAAf,SACE,uBAAMC,SAAUd,EAAhB,UACE,sBAAKa,UAAU,YAAf,UACE,gJACA,4sBAMF,sBAAKA,UAAU,aAAf,UACE,2JACA,uBACEE,KAAK,OACLF,UAAU,kCACVG,YAAY,0DACZL,KAAK,cACLM,SAAUR,EACVG,MAAOnB,OAGX,sBAAKoB,UAAU,aAAf,UACE,qKACA,uBACEE,KAAK,QACLF,UAAU,kCACVG,YAAY,QACZL,KAAK,QACLM,SAAUR,EACVG,MAAOlB,OAGX,sBAAKmB,UAAU,aAAf,UACE,yEACA,uBACEE,KAAK,WACLF,UAAU,kCACVG,YAAY,uCACZL,KAAK,WACLM,SAAUR,EACVG,MAAOjB,OAGX,sBAAKkB,UAAU,aAAf,UACE,4IACA,uBACEE,KAAK,WACLF,UAAU,kCACVG,YAAY,6EACZL,KAAK,kBACLM,SAAUR,EACVG,MAAOhB,OAGX,wBAAQmB,KAAK,SAASF,UAAU,iCAAhC,gFAGA,qBAAKA,UAAU,iBAAf,SACE,2BAGF,oBAAGA,UAAU,mBAAb,kIACwB,cAAC,IAAD,CAAMK,GAAG,SAAT,wDAAiC,YAI7D,qBACEL,UAAU,cACVM,MAAO,CAAEC,gBAAgB,OAAD,OAASlC,EAAcmC,UAAvB,KAAqCC,eAAgB,iBCvIjFC,E,4MACFC,SAAW,WACP,OAAO,cAAC,IAAD,CAAUN,GAAG,Y,uDAEd,IAAD,OACL,OACE,eAAC,WAAD,WACE,eAAC,IAAD,WACE,sHACA,sBAAMP,KAAK,cAAcc,QAAQ,SAEnC,cAAC,EAAD,CAASjB,OAAQ,kBAAM,EAAKgB,mB,GAXjBE,aAiBRH","file":"static/js/25.2b87d3d6.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { signup } from '../../../redux/actions/auth'\r\nimport { load_register_page } from '../../../redux/actions/pages'\r\n\r\nconst Content = ({signup, load_register_page, register_page, ...props}) => {\r\n\r\n  useEffect(() => {\r\n    load_register_page()\r\n  }, [])\r\n\r\n  const [state, setState] = useState({\r\n      displayName: '',\r\n      email: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n      is_superuser: false,\r\n      is_active: false,\r\n    })\r\n  \r\n\r\n  const handleSubmit = async event => {\r\n    event.preventDefault()\r\n\r\n    const {\r\n      displayName,\r\n      email,\r\n      password,\r\n      confirmPassword,\r\n      is_superuser,\r\n      is_active,\r\n    } = state\r\n\r\n    if (password !== confirmPassword) {\r\n      alert('Пароли не совпадают!')\r\n      return\r\n    }\r\n    signup(\r\n      email,\r\n      password,\r\n      confirmPassword,\r\n      displayName,\r\n      is_superuser,\r\n      is_active\r\n    )\r\n\r\n\r\n      setState({\r\n        ...state,\r\n        displayName: '',\r\n        email: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n      })\r\n\r\n      if(!props.error){\r\n        props.action()\r\n      } else {\r\n        console.log(props.error.message)\r\n      }\r\n  }\r\n\r\n  const handleChange = event => {\r\n    const { name, value } = event.target\r\n\r\n    setState({ ...state, [name]: value })\r\n  }\r\n\r\n  const { displayName, email, password, confirmPassword } = state\r\n\r\n    return (\r\n      <div className='acr-auth-container'>\r\n        <div className='acr-auth-content'>\r\n          <form onSubmit={handleSubmit}>\r\n            <div className='auth-text'>\r\n              <h3>Регистрация на сайте</h3>\r\n              <p>\r\n                Для получения возможности добавлять объекты недвижимости на\r\n                сайт, зарегистрируйтесь и дождитесь подтверждения\r\n                администратора.\r\n              </p>\r\n            </div>\r\n            <div className='form-group'>\r\n              <label>Фамилия, имя и отчество</label>\r\n              <input\r\n                type='text'\r\n                className='form-control form-control-light'\r\n                placeholder='Полное имя'\r\n                name='displayName'\r\n                onChange={handleChange}\r\n                value={displayName}\r\n              />\r\n            </div>\r\n            <div className='form-group'>\r\n              <label>Адрес электронной почты</label>\r\n              <input\r\n                type='email'\r\n                className='form-control form-control-light'\r\n                placeholder='Email'\r\n                name='email'\r\n                onChange={handleChange}\r\n                value={email}\r\n              />\r\n            </div>\r\n            <div className='form-group'>\r\n              <label>Пароль</label>\r\n              <input\r\n                type='password'\r\n                className='form-control form-control-light'\r\n                placeholder='Пароль'\r\n                name='password'\r\n                onChange={handleChange}\r\n                value={password}\r\n              />\r\n            </div>\r\n            <div className='form-group'>\r\n              <label>Подтвердите пароль</label>\r\n              <input\r\n                type='password'\r\n                className='form-control form-control-light'\r\n                placeholder='Пароль еще раз'\r\n                name='confirmPassword'\r\n                onChange={handleChange}\r\n                value={confirmPassword}\r\n              />\r\n            </div>\r\n            <button type='submit' className='btn-custom secondary btn-block'>\r\n              Регистрация\r\n            </button>\r\n            <div className='auth-seperator'>\r\n              <span></span>\r\n            </div>\r\n\r\n            <p className='text-center mb-0'>\r\n              Уже зарегистрированы? <Link to='/login'>Войдите</Link>{' '}\r\n            </p>\r\n          </form>\r\n        </div>\r\n        <div\r\n          className='acr-auth-bg'\r\n          style={{ backgroundImage: `url(${register_page.wallpaper})`, backgroundSize: 'cover' }}\r\n        ></div>\r\n      </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n  error: state.auth.error,\r\n  register_page: state.pages.register_page,\r\n})\r\n\r\nexport default connect(mapStateToProps, { signup, load_register_page })(Content)\r\n","import React, { Component, Fragment } from 'react';\r\nimport MetaTags from \"react-meta-tags\";\r\nimport { Redirect } from 'react-router';\r\nimport Header from '../layouts/Headerfive';\r\nimport Content from '../sections/register/Content';\r\n\r\nclass Register extends Component {\r\n    redirect = () => {\r\n        return <Redirect to=\"/login\"/>\r\n    }\r\n    render() {\r\n        return (\r\n          <Fragment>\r\n            <MetaTags>\r\n              <title>LuxRealAdria | Регистрация</title>\r\n              <meta name='description' content='#' />\r\n            </MetaTags>\r\n            <Content action={() => this.redirect} />\r\n          </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Register;"],"sourceRoot":""}